
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>dagster.core.definitions.solid &#8212; Dagster</title>
    <link rel="stylesheet" href="../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
 
<link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />


<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">
            <div class="related top">
                &nbsp;
<nav id="rellinks">
    <ul>
        <li>
            <a href="/" title="Home">Home</a>
        </li>
    </ul>
</nav>
            </div>
            

            

            <div class="body" role="main">
                
  <h1>Source code for dagster.core.definitions.solid</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">from</span> <span class="nn">dagster</span> <span class="kn">import</span> <span class="n">check</span>
<span class="kn">from</span> <span class="nn">dagster.core.errors</span> <span class="kn">import</span> <span class="n">DagsterInvalidDefinitionError</span>
<span class="kn">from</span> <span class="nn">dagster.utils.backcompat</span> <span class="kn">import</span> <span class="n">experimental_arg_warning</span>

<span class="kn">from</span> <span class="nn">.config</span> <span class="kn">import</span> <span class="n">ConfigMapping</span>
<span class="kn">from</span> <span class="nn">.definition_config_schema</span> <span class="kn">import</span> <span class="n">convert_user_facing_definition_config_schema</span>
<span class="kn">from</span> <span class="nn">.graph</span> <span class="kn">import</span> <span class="n">GraphDefinition</span>
<span class="kn">from</span> <span class="nn">.i_solid_definition</span> <span class="kn">import</span> <span class="n">NodeDefinition</span>
<span class="kn">from</span> <span class="nn">.input</span> <span class="kn">import</span> <span class="n">InputDefinition</span>
<span class="kn">from</span> <span class="nn">.output</span> <span class="kn">import</span> <span class="n">OutputDefinition</span>


<div class="viewcode-block" id="SolidDefinition"><a class="viewcode-back" href="../../../../sections/api/apidocs/solids.html#dagster.SolidDefinition">[docs]</a><span class="k">class</span> <span class="nc">SolidDefinition</span><span class="p">(</span><span class="n">NodeDefinition</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The definition of a Solid that performs a user-defined computation.</span>

<span class="sd">    For more details on what a solid is, refer to the</span>
<span class="sd">    `Solid Guide &lt;../../learn/guides/solid/solid&gt;`_ .</span>

<span class="sd">    End users should prefer the :func:`@solid &lt;solid&gt;` and :func:`@lambda_solid &lt;lambda_solid&gt;`</span>
<span class="sd">    decorators. SolidDefinition is generally intended to be used by framework authors.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): Name of the solid. Must be unique within any :py:class:`PipelineDefinition`</span>
<span class="sd">            using the solid.</span>
<span class="sd">        input_defs (List[InputDefinition]): Inputs of the solid.</span>
<span class="sd">        compute_fn (Callable): The core of the solid, the function that does the actual</span>
<span class="sd">            computation. The signature of this function is determined by ``input_defs``, with</span>
<span class="sd">            an additional injected first argument, ``context``, a collection of information provided</span>
<span class="sd">            by the system.</span>

<span class="sd">            This function must return a generator, which must yield one :py:class:`Output` for each</span>
<span class="sd">            of the solid&#39;s ``output_defs``, and additionally may yield other types of Dagster</span>
<span class="sd">            events, including :py:class:`Materialization` and :py:class:`ExpectationResult`.</span>
<span class="sd">        output_defs (List[OutputDefinition]): Outputs of the solid.</span>
<span class="sd">        config_schema (Optional[ConfigSchema): The schema for the config. Configuration data</span>
<span class="sd">            available in `init_context.solid_config`.</span>
<span class="sd">        description (Optional[str]): Human-readable description of the solid.</span>
<span class="sd">        tags (Optional[Dict[str, Any]]): Arbitrary metadata for the solid. Frameworks may</span>
<span class="sd">            expect and require certain metadata to be attached to a solid. Users should generally</span>
<span class="sd">            not set metadata directly. Values that are not strings will be json encoded and must meet</span>
<span class="sd">            the criteria that `json.loads(json.dumps(value)) == value`.</span>
<span class="sd">        required_resource_keys (Optional[Set[str]]): Set of resources handles required by this</span>
<span class="sd">            solid.</span>
<span class="sd">        positional_inputs (Optional[List[str]]): The positional order of the input names if it</span>
<span class="sd">            differs from the order of the input definitions.</span>
<span class="sd">        version (Optional[str]): (Experimental) The version of the solid&#39;s compute_fn. Two solids should have</span>
<span class="sd">            the same version if and only if they deterministically produce the same outputs when</span>
<span class="sd">            provided the same inputs.</span>


<span class="sd">    Examples:</span>
<span class="sd">        .. code-block:: python</span>

<span class="sd">            def _add_one(_context, inputs):</span>
<span class="sd">                yield Output(inputs[&quot;num&quot;] + 1)</span>

<span class="sd">            SolidDefinition(</span>
<span class="sd">                name=&quot;add_one&quot;,</span>
<span class="sd">                input_defs=[InputDefinition(&quot;num&quot;, Int)],</span>
<span class="sd">                output_defs=[OutputDefinition(Int)], # default name (&quot;result&quot;)</span>
<span class="sd">                compute_fn=_add_one,</span>
<span class="sd">            )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="n">input_defs</span><span class="p">,</span>
        <span class="n">compute_fn</span><span class="p">,</span>
        <span class="n">output_defs</span><span class="p">,</span>
        <span class="n">config_schema</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">required_resource_keys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">positional_inputs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_compute_fn</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">callable_param</span><span class="p">(</span><span class="n">compute_fn</span><span class="p">,</span> <span class="s2">&quot;compute_fn&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_schema</span> <span class="o">=</span> <span class="n">convert_user_facing_definition_config_schema</span><span class="p">(</span><span class="n">config_schema</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_required_resource_keys</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span>
            <span class="n">check</span><span class="o">.</span><span class="n">opt_set_param</span><span class="p">(</span><span class="n">required_resource_keys</span><span class="p">,</span> <span class="s2">&quot;required_resource_keys&quot;</span><span class="p">,</span> <span class="n">of_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">opt_str_param</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">version</span><span class="p">:</span>
            <span class="n">experimental_arg_warning</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="s2">&quot;SolidDefinition.__init__&quot;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">SolidDefinition</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">input_defs</span><span class="o">=</span><span class="n">check</span><span class="o">.</span><span class="n">list_param</span><span class="p">(</span><span class="n">input_defs</span><span class="p">,</span> <span class="s2">&quot;input_defs&quot;</span><span class="p">,</span> <span class="n">InputDefinition</span><span class="p">),</span>
            <span class="n">output_defs</span><span class="o">=</span><span class="n">check</span><span class="o">.</span><span class="n">list_param</span><span class="p">(</span><span class="n">output_defs</span><span class="p">,</span> <span class="s2">&quot;output_defs&quot;</span><span class="p">,</span> <span class="n">OutputDefinition</span><span class="p">),</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">check</span><span class="o">.</span><span class="n">opt_dict_param</span><span class="p">(</span><span class="n">tags</span><span class="p">,</span> <span class="s2">&quot;tags&quot;</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="nb">str</span><span class="p">),</span>
            <span class="n">positional_inputs</span><span class="o">=</span><span class="n">positional_inputs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">compute_fn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_fn</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_schema</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">required_resource_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">frozenset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_required_resource_keys</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">has_config_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;SolidDefinition.has_config_entry is deprecated, starting in 0.10.0, because whether &quot;</span>
            <span class="s2">&quot;the solid has configurable inputs or outputs depends on what managers are supplied &quot;</span>
            <span class="s2">&quot;for its inputs and outputs.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_schema</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_configurable_inputs</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_configurable_outputs</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_version</span>

    <span class="k">def</span> <span class="nf">all_dagster_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_input_output_types</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">iterate_node_defs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">resolve_output_to_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">handle</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_def_named</span><span class="p">(</span><span class="n">output_name</span><span class="p">),</span> <span class="n">handle</span>

    <span class="k">def</span> <span class="nf">input_has_default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_name</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_def_named</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span><span class="o">.</span><span class="n">has_default_value</span>

    <span class="k">def</span> <span class="nf">default_value_for_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_name</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_def_named</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span><span class="o">.</span><span class="n">default_value</span>

    <span class="k">def</span> <span class="nf">input_supports_dynamic_output_dep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_name</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">copy_for_configured</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">config_schema</span><span class="p">,</span> <span class="n">config_or_config_fn</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SolidDefinition</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_for_configured_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">config_or_config_fn</span><span class="p">),</span>
            <span class="n">input_defs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_defs</span><span class="p">,</span>
            <span class="n">compute_fn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">compute_fn</span><span class="p">,</span>
            <span class="n">output_defs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_defs</span><span class="p">,</span>
            <span class="n">config_schema</span><span class="o">=</span><span class="n">config_schema</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">required_resource_keys</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">required_resource_keys</span><span class="p">,</span>
            <span class="n">positional_inputs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">positional_inputs</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="CompositeSolidDefinition"><a class="viewcode-back" href="../../../../sections/api/apidocs/solids.html#dagster.CompositeSolidDefinition">[docs]</a><span class="k">class</span> <span class="nc">CompositeSolidDefinition</span><span class="p">(</span><span class="n">GraphDefinition</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The core unit of composition and abstraction, composite solids allow you to</span>
<span class="sd">    define a solid from a graph of solids.</span>

<span class="sd">    In the same way you would refactor a block of code in to a function to deduplicate, organize,</span>
<span class="sd">    or manage complexity - you can refactor solids in a pipeline in to a composite solid.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of this composite solid. Must be unique within any</span>
<span class="sd">            :py:class:`PipelineDefinition` using the solid.</span>
<span class="sd">        solid_defs (List[Union[SolidDefinition, CompositeSolidDefinition]]): The set of solid</span>
<span class="sd">            definitions used in this composite solid. Composites may be arbitrarily nested.</span>
<span class="sd">        input_mappings (Optional[List[InputMapping]]): Define the inputs to the composite solid,</span>
<span class="sd">            and how they map to the inputs of its constituent solids.</span>
<span class="sd">        output_mappings (Optional[List[OutputMapping]]): Define the outputs of the composite solid,</span>
<span class="sd">            and how they map from the outputs of its constituent solids.</span>
<span class="sd">        config_mapping (Optional[ConfigMapping]): By specifying a config mapping, you can override</span>
<span class="sd">            the configuration for the child solids contained within this composite solid. Config</span>
<span class="sd">            mappings require both a configuration field to be specified, which is exposed as the</span>
<span class="sd">            configuration for the composite solid, and a configuration mapping function, which</span>
<span class="sd">            is called to map the configuration of the composite solid into the configuration that</span>
<span class="sd">            is applied to any child solids.</span>
<span class="sd">        dependencies (Optional[Dict[Union[str, SolidInvocation], Dict[str, DependencyDefinition]]]):</span>
<span class="sd">            A structure that declares where each solid gets its inputs. The keys at the top</span>
<span class="sd">            level dict are either string names of solids or SolidInvocations. The values</span>
<span class="sd">            are dicts that map input names to DependencyDefinitions.</span>
<span class="sd">        description (Optional[str]): Human readable description of this composite solid.</span>
<span class="sd">        tags (Optional[Dict[str, Any]]): Arbitrary metadata for the solid. Frameworks may</span>
<span class="sd">            expect and require certain metadata to be attached to a solid. Users should generally</span>
<span class="sd">            not set metadata directly. Values that are not strings will be json encoded and must meet</span>
<span class="sd">            the criteria that `json.loads(json.dumps(value)) == value`.</span>
<span class="sd">            may expect and require certain metadata to be attached to a solid.</span>
<span class="sd">        positional_inputs (Optional[List[str]]): The positional order of the inputs if it</span>
<span class="sd">            differs from the order of the input mappings</span>

<span class="sd">    Examples:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            @lambda_solid</span>
<span class="sd">            def add_one(num: int) -&gt; int:</span>
<span class="sd">                return num + 1</span>

<span class="sd">            add_two = CompositeSolidDefinition(</span>
<span class="sd">                &#39;add_two&#39;,</span>
<span class="sd">                solid_defs=[add_one],</span>
<span class="sd">                dependencies={</span>
<span class="sd">                    SolidInvocation(&#39;add_one&#39;, &#39;adder_1&#39;): {},</span>
<span class="sd">                    SolidInvocation(&#39;add_one&#39;, &#39;adder_2&#39;): {&#39;num&#39;: DependencyDefinition(&#39;adder_1&#39;)},</span>
<span class="sd">                },</span>
<span class="sd">                input_mappings=[InputDefinition(&#39;num&#39;, Int).mapping_to(&#39;adder_1&#39;, &#39;num&#39;)],</span>
<span class="sd">                output_mappings=[OutputDefinition(Int).mapping_from(&#39;adder_2&#39;)],</span>
<span class="sd">            )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="n">solid_defs</span><span class="p">,</span>
        <span class="n">input_mappings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">output_mappings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">config_mapping</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dependencies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">positional_inputs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CompositeSolidDefinition</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">node_defs</span><span class="o">=</span><span class="n">solid_defs</span><span class="p">,</span>
            <span class="n">dependencies</span><span class="o">=</span><span class="n">dependencies</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">positional_inputs</span><span class="o">=</span><span class="n">positional_inputs</span><span class="p">,</span>
            <span class="n">input_mappings</span><span class="o">=</span><span class="n">input_mappings</span><span class="p">,</span>
            <span class="n">output_mappings</span><span class="o">=</span><span class="n">output_mappings</span><span class="p">,</span>
            <span class="n">config_mapping</span><span class="o">=</span><span class="n">config_mapping</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">all_dagster_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_input_output_types</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">node_def</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_defs</span><span class="p">:</span>
            <span class="k">yield from</span> <span class="n">node_def</span><span class="o">.</span><span class="n">all_dagster_types</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">copy_for_configured</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">config_schema</span><span class="p">,</span> <span class="n">config_or_config_fn</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_config_mapping</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DagsterInvalidDefinitionError</span><span class="p">(</span>
                <span class="s2">&quot;Only composite solids utilizing config mapping can be pre-configured. The solid &quot;</span>
                <span class="s1">&#39;&quot;</span><span class="si">{graph_name}</span><span class="s1">&quot; does not have a config mapping, and thus has nothing to be &#39;</span>
                <span class="s2">&quot;configured.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">graph_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">CompositeSolidDefinition</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_for_configured_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">config_or_config_fn</span><span class="p">),</span>
            <span class="n">solid_defs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_node_defs</span><span class="p">,</span>
            <span class="n">input_mappings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_mappings</span><span class="p">,</span>
            <span class="n">output_mappings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_mappings</span><span class="p">,</span>
            <span class="n">config_mapping</span><span class="o">=</span><span class="n">ConfigMapping</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_config_mapping</span><span class="o">.</span><span class="n">config_fn</span><span class="p">,</span> <span class="n">config_schema</span><span class="o">=</span><span class="n">config_schema</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">dependencies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">positional_inputs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">positional_inputs</span><span class="p">,</span>
        <span class="p">)</span></div>
</pre></div>

            </div>
            <div class="related bottom">
                &nbsp;
<nav id="rellinks">
    <ul>
        <li>
            <a href="/" title="Home">Home</a>
        </li>
    </ul>
</nav>
            </div>
            
        </div>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3><a href="../../../../index.html">Dagster</a></h3>

<div id="searchbox" style="display: none" role="search">
  <h2 id="searchlabel">Search</h2>
  <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
  </div>
</div>
<script type="text/javascript">
  $("#searchbox").show(0);
</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


  </body>
</html>