
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>dagster.config.config_type &#8212; Dagster</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
 
<link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />


<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">
            <div class="related top">
                &nbsp;
<nav id="rellinks">
    <ul>
        <li>
            <a href="/" title="Home">Home</a>
        </li>
    </ul>
</nav>
            </div>
            

            

            <div class="body" role="main">
                
  <h1>Source code for dagster.config.config_type</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span> <span class="k">as</span> <span class="n">PythonEnum</span>

<span class="kn">from</span> <span class="nn">dagster</span> <span class="kn">import</span> <span class="n">check</span>
<span class="kn">from</span> <span class="nn">dagster.builtins</span> <span class="kn">import</span> <span class="n">BuiltinEnum</span>
<span class="kn">from</span> <span class="nn">dagster.serdes</span> <span class="kn">import</span> <span class="n">whitelist_for_serdes</span>


<span class="nd">@whitelist_for_serdes</span>
<span class="k">class</span> <span class="nc">ConfigTypeKind</span><span class="p">(</span><span class="n">PythonEnum</span><span class="p">):</span>
    <span class="n">ANY</span> <span class="o">=</span> <span class="s2">&quot;ANY&quot;</span>
    <span class="n">SCALAR</span> <span class="o">=</span> <span class="s2">&quot;SCALAR&quot;</span>
    <span class="n">ENUM</span> <span class="o">=</span> <span class="s2">&quot;ENUM&quot;</span>

    <span class="n">SELECTOR</span> <span class="o">=</span> <span class="s2">&quot;SELECTOR&quot;</span>
    <span class="n">STRICT_SHAPE</span> <span class="o">=</span> <span class="s2">&quot;STRICT_SHAPE&quot;</span>
    <span class="n">PERMISSIVE_SHAPE</span> <span class="o">=</span> <span class="s2">&quot;PERMISSIVE_SHAPE&quot;</span>
    <span class="n">SCALAR_UNION</span> <span class="o">=</span> <span class="s2">&quot;SCALAR_UNION&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">has_fields</span><span class="p">(</span><span class="n">kind</span><span class="p">):</span>
        <span class="n">check</span><span class="o">.</span><span class="n">inst_param</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="s2">&quot;kind&quot;</span><span class="p">,</span> <span class="n">ConfigTypeKind</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">SELECTOR</span> <span class="ow">or</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">is_shape</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span>

    <span class="c1"># Closed generic types</span>
    <span class="n">ARRAY</span> <span class="o">=</span> <span class="s2">&quot;ARRAY&quot;</span>
    <span class="n">NONEABLE</span> <span class="o">=</span> <span class="s2">&quot;NONEABLE&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">is_closed_generic</span><span class="p">(</span><span class="n">kind</span><span class="p">):</span>
        <span class="n">check</span><span class="o">.</span><span class="n">inst_param</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="s2">&quot;kind&quot;</span><span class="p">,</span> <span class="n">ConfigTypeKind</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">kind</span> <span class="o">==</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">ARRAY</span>
            <span class="ow">or</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">NONEABLE</span>
            <span class="ow">or</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">SCALAR_UNION</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">is_shape</span><span class="p">(</span><span class="n">kind</span><span class="p">):</span>
        <span class="n">check</span><span class="o">.</span><span class="n">inst_param</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="s2">&quot;kind&quot;</span><span class="p">,</span> <span class="n">ConfigTypeKind</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">STRICT_SHAPE</span> <span class="ow">or</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">PERMISSIVE_SHAPE</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">is_selector</span><span class="p">(</span><span class="n">kind</span><span class="p">):</span>
        <span class="n">check</span><span class="o">.</span><span class="n">inst_param</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="s2">&quot;kind&quot;</span><span class="p">,</span> <span class="n">ConfigTypeKind</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">SELECTOR</span>


<span class="k">class</span> <span class="nc">ConfigType</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The class backing DagsterTypes as they are used processing configuration data.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">given_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">type_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">str_param</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">inst_param</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="s2">&quot;kind&quot;</span><span class="p">,</span> <span class="n">ConfigTypeKind</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">given_name</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">opt_str_param</span><span class="p">(</span><span class="n">given_name</span><span class="p">,</span> <span class="s2">&quot;given_name&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_description</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">opt_str_param</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_params</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">check</span><span class="o">.</span><span class="n">list_param</span><span class="p">(</span><span class="n">type_params</span><span class="p">,</span> <span class="s2">&quot;type_params&quot;</span><span class="p">,</span> <span class="n">of_type</span><span class="o">=</span><span class="n">ConfigType</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">type_params</span>
            <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_builtin_enum</span><span class="p">(</span><span class="n">builtin_enum</span><span class="p">):</span>
        <span class="n">check</span><span class="o">.</span><span class="n">invariant</span><span class="p">(</span><span class="n">BuiltinEnum</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">builtin_enum</span><span class="p">),</span> <span class="s2">&quot;param must be member of BuiltinEnum&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_CONFIG_MAP</span><span class="p">[</span><span class="n">builtin_enum</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">post_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement this in order to take a value provided by the user</span>
<span class="sd">        and perform computation on it. This can be done to coerce data types,</span>
<span class="sd">        fetch things from the environment (e.g. environment variables), or</span>
<span class="sd">        to do custom validation. If the value is not valid, throw a</span>
<span class="sd">        PostProcessingError. Otherwise return the coerced value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">value</span>


<span class="nd">@whitelist_for_serdes</span>
<span class="k">class</span> <span class="nc">ConfigScalarKind</span><span class="p">(</span><span class="n">PythonEnum</span><span class="p">):</span>
    <span class="n">INT</span> <span class="o">=</span> <span class="s2">&quot;INT&quot;</span>
    <span class="n">STRING</span> <span class="o">=</span> <span class="s2">&quot;STRING&quot;</span>
    <span class="n">FLOAT</span> <span class="o">=</span> <span class="s2">&quot;FLOAT&quot;</span>
    <span class="n">BOOL</span> <span class="o">=</span> <span class="s2">&quot;BOOL&quot;</span>


<span class="c1"># Scalars, Composites, Selectors, Lists, Optional, Any</span>


<span class="k">class</span> <span class="nc">ConfigScalar</span><span class="p">(</span><span class="n">ConfigType</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">given_name</span><span class="p">,</span> <span class="n">scalar_kind</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scalar_kind</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">inst_param</span><span class="p">(</span><span class="n">scalar_kind</span><span class="p">,</span> <span class="s2">&quot;scalar_kind&quot;</span><span class="p">,</span> <span class="n">ConfigScalarKind</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ConfigScalar</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">given_name</span><span class="o">=</span><span class="n">given_name</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">SCALAR</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>


<span class="k">class</span> <span class="nc">BuiltinConfigScalar</span><span class="p">(</span><span class="n">ConfigScalar</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scalar_kind</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BuiltinConfigScalar</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">given_name</span><span class="o">=</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">scalar_kind</span><span class="o">=</span><span class="n">scalar_kind</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="p">)</span>


<span class="k">class</span> <span class="nc">Int</span><span class="p">(</span><span class="n">BuiltinConfigScalar</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Int</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">scalar_kind</span><span class="o">=</span><span class="n">ConfigScalarKind</span><span class="o">.</span><span class="n">INT</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">String</span><span class="p">(</span><span class="n">BuiltinConfigScalar</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">scalar_kind</span><span class="o">=</span><span class="n">ConfigScalarKind</span><span class="o">.</span><span class="n">STRING</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Bool</span><span class="p">(</span><span class="n">BuiltinConfigScalar</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Bool</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">scalar_kind</span><span class="o">=</span><span class="n">ConfigScalarKind</span><span class="o">.</span><span class="n">BOOL</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Float</span><span class="p">(</span><span class="n">BuiltinConfigScalar</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Float</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">scalar_kind</span><span class="o">=</span><span class="n">ConfigScalarKind</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">post_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Any</span><span class="p">(</span><span class="n">ConfigType</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Any</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;Any&quot;</span><span class="p">,</span> <span class="n">given_name</span><span class="o">=</span><span class="s2">&quot;Any&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">ANY</span><span class="p">,</span>
        <span class="p">)</span>


<div class="viewcode-block" id="Noneable"><a class="viewcode-back" href="../../../sections/api/apidocs/config.html#dagster.Noneable">[docs]</a><span class="k">class</span> <span class="nc">Noneable</span><span class="p">(</span><span class="n">ConfigType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Defines a configuration type that is the union of ``NoneType`` and the type ``inner_type``.</span>

<span class="sd">    Args:</span>
<span class="sd">        inner_type (type):</span>
<span class="sd">            The type of the values that this configuration type can contain.</span>

<span class="sd">    **Examples:**</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">       config_schema={&quot;name&quot;: Noneable(str)}</span>

<span class="sd">       config={&quot;name&quot;: &quot;Hello&quot;}  # Ok</span>
<span class="sd">       config={&quot;name&quot;: None}     # Ok</span>
<span class="sd">       config={}                 # Error</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inner_type</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.field</span> <span class="kn">import</span> <span class="n">resolve_to_config_type</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">inner_type</span> <span class="o">=</span> <span class="n">resolve_to_config_type</span><span class="p">(</span><span class="n">inner_type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Noneable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;Noneable.</span><span class="si">{inner_type}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inner_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">inner_type</span><span class="o">.</span><span class="n">key</span><span class="p">),</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">NONEABLE</span><span class="p">,</span>
            <span class="n">type_params</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">inner_type</span><span class="p">],</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Array"><a class="viewcode-back" href="../../../sections/api/apidocs/config.html#dagster.Array">[docs]</a><span class="k">class</span> <span class="nc">Array</span><span class="p">(</span><span class="n">ConfigType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Defines an array (list) configuration type that contains values of type ``inner_type``.</span>

<span class="sd">    Args:</span>
<span class="sd">        inner_type (type):</span>
<span class="sd">            The type of the values that this configuration type can contain.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inner_type</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.field</span> <span class="kn">import</span> <span class="n">resolve_to_config_type</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">inner_type</span> <span class="o">=</span> <span class="n">resolve_to_config_type</span><span class="p">(</span><span class="n">inner_type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Array</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;Array.</span><span class="si">{inner_type}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inner_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">inner_type</span><span class="o">.</span><span class="n">key</span><span class="p">),</span>
            <span class="n">type_params</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">inner_type</span><span class="p">],</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">ARRAY</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;List of </span><span class="si">{inner_type}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inner_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">)</span></div>


<div class="viewcode-block" id="EnumValue"><a class="viewcode-back" href="../../../sections/api/apidocs/config.html#dagster.EnumValue">[docs]</a><span class="k">class</span> <span class="nc">EnumValue</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Define an entry in a :py:class:`Enum`.</span>

<span class="sd">    Args:</span>
<span class="sd">        config_value (str):</span>
<span class="sd">            The string representation of the config to accept when passed.</span>
<span class="sd">        python_value (Optional[Any]):</span>
<span class="sd">            The python value to convert the enum entry in to. Defaults to the ``config_value``.</span>
<span class="sd">        description (Optional[str]):</span>
<span class="sd">            A human-readable description of the enum entry.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_value</span><span class="p">,</span> <span class="n">python_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_value</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">str_param</span><span class="p">(</span><span class="n">config_value</span><span class="p">,</span> <span class="s2">&quot;config_value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">python_value</span> <span class="o">=</span> <span class="n">config_value</span> <span class="k">if</span> <span class="n">python_value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">python_value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">opt_str_param</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Enum"><a class="viewcode-back" href="../../../sections/api/apidocs/config.html#dagster.Enum">[docs]</a><span class="k">class</span> <span class="nc">Enum</span><span class="p">(</span><span class="n">ConfigType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Defines a enum configuration type that allows one of a defined set of possible values.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str):</span>
<span class="sd">            The name of the enum configuration type.</span>
<span class="sd">        enum_values (List[EnumValue]):</span>
<span class="sd">            The set of possible values for the enum configuration type.</span>

<span class="sd">    **Examples:**</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        @solid(</span>
<span class="sd">            config_schema=Field(</span>
<span class="sd">                Enum(</span>
<span class="sd">                    &#39;CowboyType&#39;,</span>
<span class="sd">                    [</span>
<span class="sd">                        EnumValue(&#39;good&#39;),</span>
<span class="sd">                        EnumValue(&#39;bad&#39;),</span>
<span class="sd">                        EnumValue(&#39;ugly&#39;),</span>
<span class="sd">                    ]</span>
<span class="sd">                )</span>
<span class="sd">            )</span>
<span class="sd">        )</span>
<span class="sd">        def resolve_standoff(context):</span>
<span class="sd">            # ...</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">enum_values</span><span class="p">):</span>
        <span class="n">check</span><span class="o">.</span><span class="n">str_param</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Enum</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">given_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">ENUM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enum_values</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">list_param</span><span class="p">(</span><span class="n">enum_values</span><span class="p">,</span> <span class="s2">&quot;enum_values&quot;</span><span class="p">,</span> <span class="n">of_type</span><span class="o">=</span><span class="n">EnumValue</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_valid_python_values</span> <span class="o">=</span> <span class="p">{</span><span class="n">ev</span><span class="o">.</span><span class="n">python_value</span> <span class="k">for</span> <span class="n">ev</span> <span class="ow">in</span> <span class="n">enum_values</span><span class="p">}</span>
        <span class="n">check</span><span class="o">.</span><span class="n">invariant</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_valid_python_values</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">enum_values</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_valid_config_values</span> <span class="o">=</span> <span class="p">{</span><span class="n">ev</span><span class="o">.</span><span class="n">config_value</span> <span class="k">for</span> <span class="n">ev</span> <span class="ow">in</span> <span class="n">enum_values</span><span class="p">}</span>
        <span class="n">check</span><span class="o">.</span><span class="n">invariant</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_valid_config_values</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">enum_values</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ev</span><span class="o">.</span><span class="n">config_value</span> <span class="k">for</span> <span class="n">ev</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">enum_values</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">is_valid_config_enum_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">config_value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_valid_config_values</span>

    <span class="k">def</span> <span class="nf">post_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">PythonEnum</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">name</span>

        <span class="k">for</span> <span class="n">ev</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">enum_values</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ev</span><span class="o">.</span><span class="n">config_value</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">ev</span><span class="o">.</span><span class="n">python_value</span>

        <span class="n">check</span><span class="o">.</span><span class="n">failed</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="s2">&quot;Should never reach this. config_value should be pre-validated. &quot;</span>
                <span class="s2">&quot;Got </span><span class="si">{config_value}</span><span class="s2">&quot;</span>
            <span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_python_enum</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">enum</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a Dagster enum corresponding to an existing Python enum.</span>

<span class="sd">        Args:</span>
<span class="sd">            enum (enum.EnumMeta):</span>
<span class="sd">                The class representing the enum.</span>
<span class="sd">            name (Optional[str]):</span>
<span class="sd">                The name for the enum. If not present, `enum.__name__` will be used.</span>

<span class="sd">        Example:</span>
<span class="sd">            .. code-block:: python</span>
<span class="sd">                class Color(enum.Enum):</span>
<span class="sd">                    RED = enum.auto()</span>
<span class="sd">                    GREEN = enum.auto()</span>
<span class="sd">                    BLUE = enum.auto()</span>

<span class="sd">                @solid(</span>
<span class="sd">                    config_schema={&quot;color&quot;: Field(Enum.from_python_enum(Color))}</span>
<span class="sd">                )</span>
<span class="sd">                def select_color(context):</span>
<span class="sd">                    # ...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[</span><span class="n">EnumValue</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">python_value</span><span class="o">=</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">enum</span><span class="p">])</span></div>


<div class="viewcode-block" id="ScalarUnion"><a class="viewcode-back" href="../../../sections/api/apidocs/config.html#dagster.ScalarUnion">[docs]</a><span class="k">class</span> <span class="nc">ScalarUnion</span><span class="p">(</span><span class="n">ConfigType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Defines a configuration type that accepts a scalar value OR a non-scalar value like a</span>
<span class="sd">    :py:class:`~dagster.List`, :py:class:`~dagster.Dict`, or :py:class:`~dagster.Selector`.</span>

<span class="sd">    This allows runtime scalars to be configured without a dictionary with the key ``value`` and</span>
<span class="sd">    instead just use the scalar value directly. However this still leaves the option to</span>
<span class="sd">    load scalars from a json or pickle file.</span>

<span class="sd">    Args:</span>
<span class="sd">        scalar_type (type):</span>
<span class="sd">            The scalar type of values that this configuration type can hold. For example,</span>
<span class="sd">            :py:class:`~python:int`, :py:class:`~python:float`, :py:class:`~python:bool`,</span>
<span class="sd">            or :py:class:`~python:str`.</span>
<span class="sd">        non_scalar_schema (ConfigSchema):</span>
<span class="sd">            The schema of a non-scalar Dagster configuration type. For example, :py:class:`List`,</span>
<span class="sd">            :py:class:`Dict`, or :py:class:`~dagster.Selector`.</span>
<span class="sd">        key (Optional[str]):</span>
<span class="sd">            The configuation type&#39;s unique key. If not set, then the key will be set to</span>
<span class="sd">            ``ScalarUnion.{scalar_type}-{non_scalar_schema}``.</span>

<span class="sd">    **Examples:**</span>

<span class="sd">    .. code-block:: yaml</span>

<span class="sd">        solids:</span>
<span class="sd">          transform_word:</span>
<span class="sd">            inputs:</span>
<span class="sd">              word:</span>
<span class="sd">                value: foobar</span>


<span class="sd">    becomes, optionally,</span>


<span class="sd">    .. code-block:: yaml</span>

<span class="sd">        solids:</span>
<span class="sd">          transform_word:</span>
<span class="sd">            inputs:</span>
<span class="sd">              word: foobar</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">scalar_type</span><span class="p">,</span> <span class="n">non_scalar_schema</span><span class="p">,</span> <span class="n">_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.field</span> <span class="kn">import</span> <span class="n">resolve_to_config_type</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scalar_type</span> <span class="o">=</span> <span class="n">resolve_to_config_type</span><span class="p">(</span><span class="n">scalar_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">non_scalar_type</span> <span class="o">=</span> <span class="n">resolve_to_config_type</span><span class="p">(</span><span class="n">non_scalar_schema</span><span class="p">)</span>

        <span class="n">check</span><span class="o">.</span><span class="n">param_invariant</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scalar_type</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">SCALAR</span><span class="p">,</span> <span class="s2">&quot;scalar_type&quot;</span><span class="p">)</span>
        <span class="n">check</span><span class="o">.</span><span class="n">param_invariant</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">non_scalar_type</span><span class="o">.</span><span class="n">kind</span>
            <span class="ow">in</span> <span class="p">{</span><span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">STRICT_SHAPE</span><span class="p">,</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">SELECTOR</span><span class="p">,</span> <span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">ARRAY</span><span class="p">},</span>
            <span class="s2">&quot;non_scalar_type&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># https://github.com/dagster-io/dagster/issues/2133</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">check</span><span class="o">.</span><span class="n">opt_str_param</span><span class="p">(</span>
            <span class="n">_key</span><span class="p">,</span> <span class="s2">&quot;_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ScalarUnion.</span><span class="si">{}</span><span class="s2">-</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scalar_type</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_scalar_type</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">ScalarUnion</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">ConfigTypeKind</span><span class="o">.</span><span class="n">SCALAR_UNION</span><span class="p">,</span>
            <span class="n">type_params</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scalar_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_scalar_type</span><span class="p">],</span>
        <span class="p">)</span></div>


<span class="n">ConfigAnyInstance</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>
<span class="n">ConfigBoolInstance</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">()</span>
<span class="n">ConfigFloatInstance</span> <span class="o">=</span> <span class="n">Float</span><span class="p">()</span>
<span class="n">ConfigIntInstance</span> <span class="o">=</span> <span class="n">Int</span><span class="p">()</span>
<span class="n">ConfigStringInstance</span> <span class="o">=</span> <span class="n">String</span><span class="p">()</span>
<span class="n">_CONFIG_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">BuiltinEnum</span><span class="o">.</span><span class="n">ANY</span><span class="p">:</span> <span class="n">ConfigAnyInstance</span><span class="p">,</span>
    <span class="n">BuiltinEnum</span><span class="o">.</span><span class="n">BOOL</span><span class="p">:</span> <span class="n">ConfigBoolInstance</span><span class="p">,</span>
    <span class="n">BuiltinEnum</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">:</span> <span class="n">ConfigFloatInstance</span><span class="p">,</span>
    <span class="n">BuiltinEnum</span><span class="o">.</span><span class="n">INT</span><span class="p">:</span> <span class="n">ConfigIntInstance</span><span class="p">,</span>
    <span class="n">BuiltinEnum</span><span class="o">.</span><span class="n">STRING</span><span class="p">:</span> <span class="n">ConfigStringInstance</span><span class="p">,</span>
<span class="p">}</span>


<span class="n">_CONFIG_MAP_BY_NAME</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Any&quot;</span><span class="p">:</span> <span class="n">ConfigAnyInstance</span><span class="p">,</span>
    <span class="s2">&quot;Bool&quot;</span><span class="p">:</span> <span class="n">ConfigBoolInstance</span><span class="p">,</span>
    <span class="s2">&quot;Float&quot;</span><span class="p">:</span> <span class="n">ConfigFloatInstance</span><span class="p">,</span>
    <span class="s2">&quot;Int&quot;</span><span class="p">:</span> <span class="n">ConfigIntInstance</span><span class="p">,</span>
    <span class="s2">&quot;String&quot;</span><span class="p">:</span> <span class="n">ConfigStringInstance</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">ALL_CONFIG_BUILTINS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">_CONFIG_MAP</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>


<span class="k">def</span> <span class="nf">get_builtin_scalar_by_name</span><span class="p">(</span><span class="n">type_name</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_CONFIG_MAP_BY_NAME</span><span class="p">:</span>
        <span class="n">check</span><span class="o">.</span><span class="n">failed</span><span class="p">(</span><span class="s2">&quot;Scalar </span><span class="si">{}</span><span class="s2"> is not supported&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">type_name</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">_CONFIG_MAP_BY_NAME</span><span class="p">[</span><span class="n">type_name</span><span class="p">]</span>
</pre></div>

            </div>
            <div class="related bottom">
                &nbsp;
<nav id="rellinks">
    <ul>
        <li>
            <a href="/" title="Home">Home</a>
        </li>
    </ul>
</nav>
            </div>
            
        </div>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3><a href="../../../index.html">Dagster</a></h3>

<div id="searchbox" style="display: none" role="search">
  <h2 id="searchlabel">Search</h2>
  <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
  </div>
</div>
<script type="text/javascript">
  $("#searchbox").show(0);
</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


  </body>
</html>