{"parents": [{"link": "../../../../../", "title": "Module code"}], "title": "dagster.core.execution.context.compute", "body": "<h1>Source code for dagster.core.execution.context.compute</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">from</span> <span class=\"nn\">abc</span> <span class=\"kn\">import</span> <span class=\"n\">ABCMeta</span><span class=\"p\">,</span> <span class=\"n\">abstractmethod</span><span class=\"p\">,</span> <span class=\"n\">abstractproperty</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">six</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster</span> <span class=\"kn\">import</span> <span class=\"n\">check</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster.utils.forked_pdb</span> <span class=\"kn\">import</span> <span class=\"n\">ForkedPdb</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">.step</span> <span class=\"kn\">import</span> <span class=\"n\">StepExecutionContext</span>\n<span class=\"kn\">from</span> <span class=\"nn\">.system</span> <span class=\"kn\">import</span> <span class=\"n\">SystemComputeExecutionContext</span>\n\n\n<div class=\"viewcode-block\" id=\"AbstractComputeExecutionContext\"><a class=\"viewcode-back\" href=\"../../../../../../sections/api/apidocs/execution/#dagster.core.execution.context.compute.AbstractComputeExecutionContext\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">AbstractComputeExecutionContext</span><span class=\"p\">(</span><span class=\"n\">six</span><span class=\"o\">.</span><span class=\"n\">with_metaclass</span><span class=\"p\">(</span><span class=\"n\">ABCMeta</span><span class=\"p\">)):</span>  <span class=\"c1\"># pylint: disable=no-init</span>\n    <span class=\"sd\">&quot;&quot;&quot;Base class for solid context implemented by SolidExecutionContext and DagstermillInNotebookExecutionContext&quot;&quot;&quot;</span>\n\n<div class=\"viewcode-block\" id=\"AbstractComputeExecutionContext.has_tag\"><a class=\"viewcode-back\" href=\"../../../../../../sections/api/apidocs/execution/#dagster.core.execution.context.compute.AbstractComputeExecutionContext.has_tag\">[docs]</a>    <span class=\"nd\">@abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">has_tag</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Implement this method to check if a logging tag is set.&quot;&quot;&quot;</span></div>\n\n<div class=\"viewcode-block\" id=\"AbstractComputeExecutionContext.get_tag\"><a class=\"viewcode-back\" href=\"../../../../../../sections/api/apidocs/execution/#dagster.core.execution.context.compute.AbstractComputeExecutionContext.get_tag\">[docs]</a>    <span class=\"nd\">@abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_tag</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Implement this method to get a logging tag.&quot;&quot;&quot;</span></div>\n\n    <span class=\"nd\">@abstractproperty</span>\n    <span class=\"k\">def</span> <span class=\"nf\">run_id</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;The run id for the context.&quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abstractproperty</span>\n    <span class=\"k\">def</span> <span class=\"nf\">solid_def</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;The solid definition corresponding to the execution step being executed.&quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abstractproperty</span>\n    <span class=\"k\">def</span> <span class=\"nf\">solid</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;The solid corresponding to the execution step being executed.&quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abstractproperty</span>\n    <span class=\"k\">def</span> <span class=\"nf\">pipeline_def</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;The pipeline being executed.&quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abstractproperty</span>\n    <span class=\"k\">def</span> <span class=\"nf\">resources</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Resources available in the execution context.&quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abstractproperty</span>\n    <span class=\"k\">def</span> <span class=\"nf\">log</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;The log manager available in the execution context.&quot;&quot;&quot;</span></div>\n\n\n<div class=\"viewcode-block\" id=\"SolidExecutionContext\"><a class=\"viewcode-back\" href=\"../../../../../../sections/api/apidocs/execution/#dagster.core.execution.context.compute.SolidExecutionContext\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">SolidExecutionContext</span><span class=\"p\">(</span><span class=\"n\">StepExecutionContext</span><span class=\"p\">,</span> <span class=\"n\">AbstractComputeExecutionContext</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;The ``context`` object available to solid compute logic.&quot;&quot;&quot;</span>\n\n    <span class=\"vm\">__slots__</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">&quot;_system_compute_execution_context&quot;</span><span class=\"p\">]</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">system_compute_execution_context</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_system_compute_execution_context</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">inst_param</span><span class=\"p\">(</span>\n            <span class=\"n\">system_compute_execution_context</span><span class=\"p\">,</span>\n            <span class=\"s2\">&quot;system_compute_execution_context&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">SystemComputeExecutionContext</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pdb</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">SolidExecutionContext</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">system_compute_execution_context</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">solid_config</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;The parsed config specific to this solid.&quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_system_compute_execution_context</span><span class=\"o\">.</span><span class=\"n\">solid_config</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">pipeline_run</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;The current PipelineRun&quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_system_compute_execution_context</span><span class=\"o\">.</span><span class=\"n\">pipeline_run</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">instance</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;The current Instance&quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_system_compute_execution_context</span><span class=\"o\">.</span><span class=\"n\">instance</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">pdb</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Allows pdb debugging from within the solid.</span>\n\n<span class=\"sd\">        Example:</span>\n\n<span class=\"sd\">        .. code-block:: python</span>\n\n<span class=\"sd\">            @solid</span>\n<span class=\"sd\">            def debug_solid(context):</span>\n<span class=\"sd\">                context.pdb.set_trace()</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pdb</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pdb</span> <span class=\"o\">=</span> <span class=\"n\">ForkedPdb</span><span class=\"p\">()</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pdb</span></div>\n</pre></div>", "current_page_name": "_modules/dagster/core/execution/context/compute", "sidebars": ["globaltoc.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}