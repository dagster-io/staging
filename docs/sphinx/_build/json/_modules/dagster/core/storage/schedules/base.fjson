{"parents": [{"link": "../../../../../", "title": "Module code"}], "title": "dagster.core.storage.schedules.base", "body": "<h1>Source code for dagster.core.storage.schedules.base</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">import</span> <span class=\"nn\">abc</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">six</span>\n\n\n<div class=\"viewcode-block\" id=\"ScheduleStorage\"><a class=\"viewcode-back\" href=\"../../../../../../sections/api/apidocs/internals/#dagster.core.storage.schedules.ScheduleStorage\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ScheduleStorage</span><span class=\"p\">(</span><span class=\"n\">six</span><span class=\"o\">.</span><span class=\"n\">with_metaclass</span><span class=\"p\">(</span><span class=\"n\">abc</span><span class=\"o\">.</span><span class=\"n\">ABCMeta</span><span class=\"p\">)):</span>\n    <span class=\"sd\">&quot;&quot;&quot;Abstract class for managing persistance of scheduler artifacts</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">all_stored_schedule_state</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">repository_origin_id</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Return all ScheduleStates present in storage</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            repository_origin_id (Optional[str]): The ExternalRepository target id to scope results to</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_schedule_state</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">schedule_origin_id</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Return the unique schedule with the given id</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            schedule_origin_id (str): The unique schedule identifier</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">add_schedule_state</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">schedule</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Add a schedule to storage.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            schedule (ScheduleState): The schedule to add</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">update_schedule_state</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">schedule</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Update a schedule already in storage, using schedule name to match schedules.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            repository_name (str): The repository the schedule belongs to</span>\n<span class=\"sd\">            schedule (ScheduleState): The schedule to update</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">delete_schedule_state</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">schedule_origin_id</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Delete a schedule from storage.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            schedule_origin_id (str): The id of the ExternalSchedule target to delete</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_schedule_ticks</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">schedule_origin_id</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Get all schedule ticks for a given schedule.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            schedule_origin_id (str): The id of the ExternalSchedule target</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_latest_tick</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">schedule_origin_id</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Get the most recent tick that ran for a given schedule.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            schedule_origin_id (str): The id of the ExternalSchedule target</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_schedule_tick_stats</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">schedule_origin_id</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Get summary statistics for schedule ticks for a given schedule</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            schedule_origin_id (str): The id of the ExternalSchedule target</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">create_schedule_tick</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">schedule_tick_data</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Add a schedule tick to storage.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            repository_name (str): The repository the schedule belongs to</span>\n<span class=\"sd\">            schedule_tick_data (ScheduleTickData): The schedule tick to add</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">update_schedule_tick</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">tick</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Update a schedule tick already in storage.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            repository_name (str): The repository the schedule belongs to</span>\n<span class=\"sd\">            tick (ScheduleTick): The schedule tick to update</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">wipe</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Delete all schedules from storage</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">upgrade</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Perform any needed migrations</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">optimize_for_dagit</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">statement_timeout</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Allows for optimizing database connection / use in the context of a long lived dagit process&quot;&quot;&quot;</span></div>\n</pre></div>", "current_page_name": "_modules/dagster/core/storage/schedules/base", "sidebars": ["globaltoc.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}