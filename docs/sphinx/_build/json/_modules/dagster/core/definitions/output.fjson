{"parents": [{"link": "../../../../", "title": "Module code"}], "title": "dagster.core.definitions.output", "body": "<h1>Source code for dagster.core.definitions.output</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">from</span> <span class=\"nn\">collections</span> <span class=\"kn\">import</span> <span class=\"n\">namedtuple</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">dagster</span> <span class=\"kn\">import</span> <span class=\"n\">check</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster.core.types.dagster_type</span> <span class=\"kn\">import</span> <span class=\"n\">resolve_dagster_type</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">.utils</span> <span class=\"kn\">import</span> <span class=\"n\">DEFAULT_OUTPUT</span><span class=\"p\">,</span> <span class=\"n\">check_valid_name</span>\n\n\n<div class=\"viewcode-block\" id=\"OutputDefinition\"><a class=\"viewcode-back\" href=\"../../../../../sections/api/apidocs/solids/#dagster.OutputDefinition\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">OutputDefinition</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;Defines an output from a solid&#39;s compute function.</span>\n\n<span class=\"sd\">    Solids can have multiple outputs, in which case outputs cannot be anonymous.</span>\n\n<span class=\"sd\">    Many solids have only one output, in which case the user can provide a single output definition</span>\n<span class=\"sd\">    that will be given the default name, &quot;result&quot;.</span>\n\n<span class=\"sd\">    Output definitions may be typed using the Dagster type system.</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        dagster_type (Optional[Any]): The type of this output. Users should provide one of the</span>\n<span class=\"sd\">            :ref:`built-in types &lt;builtin&gt;`, a dagster type explicitly constructed with</span>\n<span class=\"sd\">            :py:func:`as_dagster_type`, :py:func:`@usable_as_dagster_type &lt;dagster_type`, or</span>\n<span class=\"sd\">            :py:func:`PythonObjectDagsterType`, or a Python type. Defaults to :py:class:`Any`.</span>\n<span class=\"sd\">        name (Optional[str]): Name of the output. (default: &quot;result&quot;)</span>\n<span class=\"sd\">        description (Optional[str]): Human-readable description of the output.</span>\n<span class=\"sd\">        is_required (Optional[bool]): Whether the presence of this field is required. (default: True)</span>\n<span class=\"sd\">        asset_store_key (Optional[str]): The resource key of the asset store used for this output.</span>\n<span class=\"sd\">        asset_metadata (Optional[Dict[str, Any]]): A dict of the metadata that is used for the</span>\n<span class=\"sd\">            output to store the given data object. For example, users can provide a file path if</span>\n<span class=\"sd\">            the data object will be stored in a filesystem, or provide information of a database</span>\n<span class=\"sd\">            table when it is going to load the data into the table.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">dagster_type</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">is_required</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">asset_store_key</span><span class=\"o\">=</span><span class=\"s2\">&quot;asset_store&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">asset_metadata</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_name</span> <span class=\"o\">=</span> <span class=\"n\">check_valid_name</span><span class=\"p\">(</span><span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_str_param</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;name&quot;</span><span class=\"p\">,</span> <span class=\"n\">DEFAULT_OUTPUT</span><span class=\"p\">))</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_dagster_type</span> <span class=\"o\">=</span> <span class=\"n\">resolve_dagster_type</span><span class=\"p\">(</span><span class=\"n\">dagster_type</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_description</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_str_param</span><span class=\"p\">(</span><span class=\"n\">description</span><span class=\"p\">,</span> <span class=\"s2\">&quot;description&quot;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_is_required</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_bool_param</span><span class=\"p\">(</span><span class=\"n\">is_required</span><span class=\"p\">,</span> <span class=\"s2\">&quot;is_required&quot;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_asset_store_key</span> <span class=\"o\">=</span> <span class=\"n\">asset_store_key</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_asset_metadata</span> <span class=\"o\">=</span> <span class=\"n\">asset_metadata</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_name</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">dagster_type</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_dagster_type</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">description</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_description</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">optional</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_is_required</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">is_required</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_is_required</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">asset_store_key</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_asset_store_key</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">asset_metadata</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_asset_metadata</span>\n\n<div class=\"viewcode-block\" id=\"OutputDefinition.mapping_from\"><a class=\"viewcode-back\" href=\"../../../../../sections/api/apidocs/solids/#dagster.OutputDefinition.mapping_from\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">mapping_from</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">solid_name</span><span class=\"p\">,</span> <span class=\"n\">output_name</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Create an output mapping from an output of a child solid.</span>\n\n<span class=\"sd\">        In a CompositeSolidDefinition, you can use this helper function to construct</span>\n<span class=\"sd\">        an :py:class:`OutputMapping` from the output of a child solid.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            solid_name (str): The name of the child solid from which to map this output.</span>\n<span class=\"sd\">            input_name (str): The name of the child solid&#39;s output from which to map this output.</span>\n\n<span class=\"sd\">        Examples:</span>\n\n<span class=\"sd\">            .. code-block:: python</span>\n\n<span class=\"sd\">                output_mapping = OutputDefinition(Int).mapping_from(&#39;child_solid&#39;)</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"n\">OutputMapping</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">solid_name</span><span class=\"p\">,</span> <span class=\"n\">output_name</span><span class=\"p\">)</span></div></div>\n\n\n<div class=\"viewcode-block\" id=\"OutputMapping\"><a class=\"viewcode-back\" href=\"../../../../../sections/api/apidocs/solids/#dagster.OutputMapping\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">OutputMapping</span><span class=\"p\">(</span><span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s2\">&quot;_OutputMapping&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;definition solid_name output_name&quot;</span><span class=\"p\">)):</span>\n    <span class=\"sd\">&quot;&quot;&quot;Defines an output mapping for a composite solid.</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        definition (OutputDefinition): Defines the output of the composite solid.</span>\n<span class=\"sd\">        solid_name (str): The name of the child solid from which to map the output.</span>\n<span class=\"sd\">        output_name (str): The name of the child solid&#39;s output from which to map the output.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__new__</span><span class=\"p\">(</span><span class=\"bp\">cls</span><span class=\"p\">,</span> <span class=\"n\">definition</span><span class=\"p\">,</span> <span class=\"n\">solid_name</span><span class=\"p\">,</span> <span class=\"n\">output_name</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">OutputMapping</span><span class=\"p\">,</span> <span class=\"bp\">cls</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__new__</span><span class=\"p\">(</span>\n            <span class=\"bp\">cls</span><span class=\"p\">,</span>\n            <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">inst_param</span><span class=\"p\">(</span><span class=\"n\">definition</span><span class=\"p\">,</span> <span class=\"s2\">&quot;definition&quot;</span><span class=\"p\">,</span> <span class=\"n\">OutputDefinition</span><span class=\"p\">),</span>\n            <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">str_param</span><span class=\"p\">(</span><span class=\"n\">solid_name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;solid_name&quot;</span><span class=\"p\">),</span>\n            <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_str_param</span><span class=\"p\">(</span><span class=\"n\">output_name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;output_name&quot;</span><span class=\"p\">,</span> <span class=\"n\">DEFAULT_OUTPUT</span><span class=\"p\">),</span>\n        <span class=\"p\">)</span></div>\n</pre></div>", "current_page_name": "_modules/dagster/core/definitions/output", "sidebars": ["globaltoc.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}