{"parents": [{"link": "../../../../", "title": "Module code"}], "title": "dagster.core.definitions.schedule", "body": "<h1>Source code for dagster.core.definitions.schedule</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">from</span> <span class=\"nn\">collections</span> <span class=\"kn\">import</span> <span class=\"n\">namedtuple</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">pendulum</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster</span> <span class=\"kn\">import</span> <span class=\"n\">check</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster.core.errors</span> <span class=\"kn\">import</span> <span class=\"n\">DagsterInvalidDefinitionError</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster.core.instance</span> <span class=\"kn\">import</span> <span class=\"n\">DagsterInstance</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster.core.storage.pipeline_run</span> <span class=\"kn\">import</span> <span class=\"n\">PipelineRun</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster.core.storage.tags</span> <span class=\"kn\">import</span> <span class=\"n\">check_tags</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster.utils</span> <span class=\"kn\">import</span> <span class=\"n\">merge_dicts</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">.mode</span> <span class=\"kn\">import</span> <span class=\"n\">DEFAULT_MODE_NAME</span>\n<span class=\"kn\">from</span> <span class=\"nn\">.utils</span> <span class=\"kn\">import</span> <span class=\"n\">check_valid_name</span>\n\n\n<div class=\"viewcode-block\" id=\"ScheduleExecutionContext\"><a class=\"viewcode-back\" href=\"../../../../../sections/api/apidocs/schedules/#dagster.ScheduleExecutionContext\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ScheduleExecutionContext</span><span class=\"p\">(</span>\n    <span class=\"n\">namedtuple</span><span class=\"p\">(</span><span class=\"s2\">&quot;ScheduleExecutionContext&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;instance scheduled_execution_time&quot;</span><span class=\"p\">)</span>\n<span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;Schedule-specific execution context.</span>\n\n<span class=\"sd\">    An instance of this class is made available as the first argument to various ScheduleDefinition</span>\n<span class=\"sd\">    functions. It is passed as the first argument to ``run_config_fn``, ``tags_fn``,</span>\n<span class=\"sd\">    and ``should_execute``.</span>\n\n<span class=\"sd\">    Attributes:</span>\n<span class=\"sd\">        instance (DagsterInstance): The instance configured to run the schedule</span>\n<span class=\"sd\">        scheduled_execution_time (datetime):</span>\n<span class=\"sd\">            The time in which the execution was scheduled to happen. May differ slightly</span>\n<span class=\"sd\">            from both the actual execution time and the time at which the run config is computed.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__new__</span><span class=\"p\">(</span>\n        <span class=\"bp\">cls</span><span class=\"p\">,</span> <span class=\"n\">instance</span><span class=\"p\">,</span> <span class=\"n\">scheduled_execution_time</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n\n        <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">ScheduleExecutionContext</span><span class=\"p\">,</span> <span class=\"bp\">cls</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__new__</span><span class=\"p\">(</span>\n            <span class=\"bp\">cls</span><span class=\"p\">,</span>\n            <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">inst_param</span><span class=\"p\">(</span><span class=\"n\">instance</span><span class=\"p\">,</span> <span class=\"s2\">&quot;instance&quot;</span><span class=\"p\">,</span> <span class=\"n\">DagsterInstance</span><span class=\"p\">),</span>\n            <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_inst_param</span><span class=\"p\">(</span><span class=\"n\">scheduled_execution_time</span><span class=\"p\">,</span> <span class=\"s2\">&quot;scheduled_execution_time&quot;</span><span class=\"p\">,</span> <span class=\"n\">datetime</span><span class=\"p\">),</span>\n        <span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"ScheduleDefinition\"><a class=\"viewcode-back\" href=\"../../../../../sections/api/apidocs/schedules/#dagster.ScheduleDefinition\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ScheduleDefinition</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;Define a schedule that targets a pipeline</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        name (str): The name of the schedule to create.</span>\n<span class=\"sd\">        cron_schedule (str): A valid cron string specifying when the schedule will run, e.g.,</span>\n<span class=\"sd\">            &#39;45 23 * * 6&#39; for a schedule that runs at 11:45 PM every Saturday.</span>\n<span class=\"sd\">        pipeline_name (str): The name of the pipeline to execute when the schedule runs.</span>\n<span class=\"sd\">        run_config (Optional[Dict]): The environment config that parameterizes this execution,</span>\n<span class=\"sd\">            as a dict.</span>\n<span class=\"sd\">        run_config_fn (Callable[[ScheduleExecutionContext], [Dict]]): A function that takes a</span>\n<span class=\"sd\">            ScheduleExecutionContext object and returns the environment configuration that</span>\n<span class=\"sd\">            parameterizes this execution, as a dict. You may set only one of ``run_config``</span>\n<span class=\"sd\">            and ``run_config_fn``.</span>\n<span class=\"sd\">        tags (Optional[Dict[str, str]]): A dictionary of tags (string key-value pairs) to attach</span>\n<span class=\"sd\">            to the scheduled runs.</span>\n<span class=\"sd\">        tags_fn (Optional[Callable[[ScheduleExecutionContext], Optional[Dict[str, str]]]]): A</span>\n<span class=\"sd\">            function that generates tags to attach to the schedules runs. Takes a</span>\n<span class=\"sd\">            :py:class:`~dagster.ScheduleExecutionContext` and returns a dictionary of tags (string</span>\n<span class=\"sd\">            key-value pairs). You may set only one of ``tags`` and ``tags_fn``.</span>\n<span class=\"sd\">        solid_selection (Optional[List[str]]): A list of solid subselection (including single</span>\n<span class=\"sd\">            solid names) to execute when the schedule runs. e.g. ``[&#39;*some_solid+&#39;, &#39;other_solid&#39;]``</span>\n<span class=\"sd\">        mode (Optional[str]): The mode to apply when executing this schedule. (default: &#39;default&#39;)</span>\n<span class=\"sd\">        should_execute (Optional[Callable[[ScheduleExecutionContext], bool]]): A function that runs</span>\n<span class=\"sd\">            at schedule execution time to determine whether a schedule should execute or skip. Takes</span>\n<span class=\"sd\">            a :py:class:`~dagster.ScheduleExecutionContext` and returns a boolean (``True`` if the</span>\n<span class=\"sd\">            schedule should execute). Defaults to a function that always returns ``True``.</span>\n<span class=\"sd\">        environment_vars (Optional[dict[str, str]]): The environment variables to set for the</span>\n<span class=\"sd\">            schedule</span>\n<span class=\"sd\">        execution_timezone (Optional[str]): Timezone in which the schedule should run. Only works</span>\n<span class=\"sd\">            with DagsterDaemonScheduler, and must be set when using that scheduler.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"vm\">__slots__</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"s2\">&quot;_name&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_cron_schedule&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_execution_params&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_run_config_fn&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_run_config&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_tags&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_mode&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_pipeline_name&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_solid_selection&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_tags_fn&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_should_execute&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_environment_vars&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;_execution_timezone&quot;</span><span class=\"p\">,</span>\n    <span class=\"p\">]</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">name</span><span class=\"p\">,</span>\n        <span class=\"n\">cron_schedule</span><span class=\"p\">,</span>\n        <span class=\"n\">pipeline_name</span><span class=\"p\">,</span>\n        <span class=\"n\">run_config</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">run_config_fn</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">tags</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">tags_fn</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">solid_selection</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;default&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">should_execute</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">environment_vars</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">execution_timezone</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_name</span> <span class=\"o\">=</span> <span class=\"n\">check_valid_name</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_cron_schedule</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">str_param</span><span class=\"p\">(</span><span class=\"n\">cron_schedule</span><span class=\"p\">,</span> <span class=\"s2\">&quot;cron_schedule&quot;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pipeline_name</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">str_param</span><span class=\"p\">(</span><span class=\"n\">pipeline_name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pipeline_name&quot;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_run_config</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_dict_param</span><span class=\"p\">(</span><span class=\"n\">run_config</span><span class=\"p\">,</span> <span class=\"s2\">&quot;run_config&quot;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_tags</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_dict_param</span><span class=\"p\">(</span><span class=\"n\">tags</span><span class=\"p\">,</span> <span class=\"s2\">&quot;tags&quot;</span><span class=\"p\">,</span> <span class=\"n\">key_type</span><span class=\"o\">=</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">value_type</span><span class=\"o\">=</span><span class=\"nb\">str</span><span class=\"p\">)</span>\n\n        <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_callable_param</span><span class=\"p\">(</span><span class=\"n\">tags_fn</span><span class=\"p\">,</span> <span class=\"s2\">&quot;tags_fn&quot;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_solid_selection</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_nullable_list_param</span><span class=\"p\">(</span>\n            <span class=\"n\">solid_selection</span><span class=\"p\">,</span> <span class=\"s2\">&quot;solid_selection&quot;</span><span class=\"p\">,</span> <span class=\"n\">of_type</span><span class=\"o\">=</span><span class=\"nb\">str</span>\n        <span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_mode</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_str_param</span><span class=\"p\">(</span><span class=\"n\">mode</span><span class=\"p\">,</span> <span class=\"s2\">&quot;mode&quot;</span><span class=\"p\">,</span> <span class=\"n\">DEFAULT_MODE_NAME</span><span class=\"p\">)</span>\n        <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_callable_param</span><span class=\"p\">(</span><span class=\"n\">should_execute</span><span class=\"p\">,</span> <span class=\"s2\">&quot;should_execute&quot;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_environment_vars</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_dict_param</span><span class=\"p\">(</span>\n            <span class=\"n\">environment_vars</span><span class=\"p\">,</span> <span class=\"s2\">&quot;environment_vars&quot;</span><span class=\"p\">,</span> <span class=\"n\">key_type</span><span class=\"o\">=</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">value_type</span><span class=\"o\">=</span><span class=\"nb\">str</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">run_config_fn</span> <span class=\"ow\">and</span> <span class=\"n\">run_config</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"n\">DagsterInvalidDefinitionError</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;Attempted to provide both run_config_fn and run_config as arguments&quot;</span>\n                <span class=\"s2\">&quot; to ScheduleDefinition. Must provide only one of the two.&quot;</span>\n            <span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">run_config</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"n\">run_config_fn</span><span class=\"p\">:</span>\n            <span class=\"n\">run_config_fn</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">_context</span><span class=\"p\">:</span> <span class=\"p\">{}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_run_config_fn</span> <span class=\"o\">=</span> <span class=\"n\">run_config_fn</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">tags_fn</span> <span class=\"ow\">and</span> <span class=\"n\">tags</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"n\">DagsterInvalidDefinitionError</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;Attempted to provide both tags_fn and tags as arguments&quot;</span>\n                <span class=\"s2\">&quot; to ScheduleDefinition. Must provide only one of the two.&quot;</span>\n            <span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">tags</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"n\">tags_fn</span><span class=\"p\">:</span>\n            <span class=\"n\">tags_fn</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">_context</span><span class=\"p\">:</span> <span class=\"p\">{}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_tags_fn</span> <span class=\"o\">=</span> <span class=\"n\">tags_fn</span>\n\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">should_execute</span><span class=\"p\">:</span>\n            <span class=\"n\">should_execute</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">_context</span><span class=\"p\">:</span> <span class=\"kc\">True</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_should_execute</span> <span class=\"o\">=</span> <span class=\"n\">should_execute</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_execution_timezone</span> <span class=\"o\">=</span> <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">opt_str_param</span><span class=\"p\">(</span><span class=\"n\">execution_timezone</span><span class=\"p\">,</span> <span class=\"s2\">&quot;execution_timezone&quot;</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_execution_timezone</span><span class=\"p\">:</span>\n            <span class=\"k\">try</span><span class=\"p\">:</span>\n                <span class=\"c1\"># Verify that the timezone can be loaded</span>\n                <span class=\"n\">pendulum</span><span class=\"o\">.</span><span class=\"n\">timezone</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_execution_timezone</span><span class=\"p\">)</span>\n            <span class=\"k\">except</span> <span class=\"ne\">ValueError</span><span class=\"p\">:</span>\n                <span class=\"k\">raise</span> <span class=\"n\">DagsterInvalidDefinitionError</span><span class=\"p\">(</span>\n                    <span class=\"s2\">&quot;Invalid execution timezone </span><span class=\"si\">{timezone}</span><span class=\"s2\"> for </span><span class=\"si\">{schedule_name}</span><span class=\"s2\">&quot;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span>\n                        <span class=\"n\">schedule_name</span><span class=\"o\">=</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">timezone</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_execution_timezone</span>\n                    <span class=\"p\">)</span>\n                <span class=\"p\">)</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_name</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">cron_schedule</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_cron_schedule</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">environment_vars</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_environment_vars</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">mode</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_mode</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_run_config</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">):</span>\n        <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">inst_param</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"s2\">&quot;context&quot;</span><span class=\"p\">,</span> <span class=\"n\">ScheduleExecutionContext</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_run_config</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_run_config</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_run_config_fn</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_tags</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">):</span>\n        <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">inst_param</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"s2\">&quot;context&quot;</span><span class=\"p\">,</span> <span class=\"n\">ScheduleExecutionContext</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_tags</span><span class=\"p\">:</span>\n            <span class=\"n\">tags</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_tags</span>\n            <span class=\"n\">check_tags</span><span class=\"p\">(</span><span class=\"n\">tags</span><span class=\"p\">,</span> <span class=\"s2\">&quot;tags&quot;</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">tags</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_tags_fn</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n            <span class=\"c1\"># These tags are checked in _tags_fn_wrapper</span>\n\n        <span class=\"n\">tags</span> <span class=\"o\">=</span> <span class=\"n\">merge_dicts</span><span class=\"p\">(</span><span class=\"n\">tags</span><span class=\"p\">,</span> <span class=\"n\">PipelineRun</span><span class=\"o\">.</span><span class=\"n\">tags_for_schedule</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">))</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">tags</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">should_execute</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">):</span>\n        <span class=\"n\">check</span><span class=\"o\">.</span><span class=\"n\">inst_param</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"s2\">&quot;context&quot;</span><span class=\"p\">,</span> <span class=\"n\">ScheduleExecutionContext</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_should_execute</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">pipeline_name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pipeline_name</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">solid_selection</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_solid_selection</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">execution_timezone</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_execution_timezone</span></div>\n</pre></div>", "current_page_name": "_modules/dagster/core/definitions/schedule", "sidebars": ["globaltoc.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}