{"parents": [{"link": "../../", "title": "Module code"}], "title": "dagster_github.resources", "body": "<h1>Source code for dagster_github.resources</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">import</span> <span class=\"nn\">time</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">jwt</span>\n<span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster</span> <span class=\"kn\">import</span> <span class=\"n\">Field</span><span class=\"p\">,</span> <span class=\"n\">IntSource</span><span class=\"p\">,</span> <span class=\"n\">StringSource</span><span class=\"p\">,</span> <span class=\"n\">resource</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">to_seconds</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"p\">(</span><span class=\"n\">dt</span> <span class=\"o\">-</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">1970</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">total_seconds</span><span class=\"p\">()</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">GithubResource</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">client</span><span class=\"p\">,</span> <span class=\"n\">app_id</span><span class=\"p\">,</span> <span class=\"n\">app_private_rsa_key</span><span class=\"p\">,</span> <span class=\"n\">default_installation_id</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">client</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_private_rsa_key</span> <span class=\"o\">=</span> <span class=\"n\">app_private_rsa_key</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_id</span> <span class=\"o\">=</span> <span class=\"n\">app_id</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">default_installation_id</span> <span class=\"o\">=</span> <span class=\"n\">default_installation_id</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">installation_tokens</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_token</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__set_app_token</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"c1\"># from https://developer.github.com/apps/building-github-apps/authenticating-with-github-apps/</span>\n        <span class=\"c1\"># needing to self-sign a JWT</span>\n        <span class=\"n\">now</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">())</span>\n        <span class=\"c1\"># JWT expiration time (10 minute maximum)</span>\n        <span class=\"n\">expires</span> <span class=\"o\">=</span> <span class=\"n\">now</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"mi\">10</span> <span class=\"o\">*</span> <span class=\"mi\">60</span><span class=\"p\">)</span>\n        <span class=\"n\">encoded_token</span> <span class=\"o\">=</span> <span class=\"n\">jwt</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">(</span>\n            <span class=\"p\">{</span>\n                <span class=\"c1\"># issued at time</span>\n                <span class=\"s2\">&quot;iat&quot;</span><span class=\"p\">:</span> <span class=\"n\">now</span><span class=\"p\">,</span>\n                <span class=\"c1\"># JWT expiration time</span>\n                <span class=\"s2\">&quot;exp&quot;</span><span class=\"p\">:</span> <span class=\"n\">expires</span><span class=\"p\">,</span>\n                <span class=\"c1\"># GitHub App&#39;s identifier</span>\n                <span class=\"s2\">&quot;iss&quot;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_id</span><span class=\"p\">,</span>\n            <span class=\"p\">},</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_private_rsa_key</span><span class=\"p\">,</span>\n            <span class=\"n\">algorithm</span><span class=\"o\">=</span><span class=\"s2\">&quot;RS256&quot;</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"s2\">&quot;utf-8&quot;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_token</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s2\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"n\">encoded_token</span><span class=\"p\">,</span>\n            <span class=\"s2\">&quot;expires&quot;</span><span class=\"p\">:</span> <span class=\"n\">expires</span><span class=\"p\">,</span>\n        <span class=\"p\">}</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__check_app_token</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"s2\">&quot;expires&quot;</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_token</span><span class=\"p\">)</span> <span class=\"ow\">or</span> <span class=\"p\">(</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_token</span><span class=\"p\">[</span><span class=\"s2\">&quot;expires&quot;</span><span class=\"p\">]</span> <span class=\"o\">&lt;</span> <span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"mi\">60</span><span class=\"p\">)</span>\n        <span class=\"p\">):</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__set_app_token</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_installations</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">headers</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__check_app_token</span><span class=\"p\">()</span>\n        <span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s2\">&quot;Authorization&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;Bearer </span><span class=\"si\">{}</span><span class=\"s2\">&quot;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_token</span><span class=\"p\">[</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">])</span>\n        <span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s2\">&quot;Accept&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;application/vnd.github.machine-man-preview+json&quot;</span>\n        <span class=\"n\">request</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;https://api.github.com/app/installations&quot;</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,)</span>\n        <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">raise_for_status</span><span class=\"p\">()</span>\n        <span class=\"k\">return</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__set_installation_token</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">installation_id</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">headers</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__check_app_token</span><span class=\"p\">()</span>\n        <span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s2\">&quot;Authorization&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;Bearer </span><span class=\"si\">{}</span><span class=\"s2\">&quot;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">app_token</span><span class=\"p\">[</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">])</span>\n        <span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s2\">&quot;Accept&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;application/vnd.github.machine-man-preview+json&quot;</span>\n        <span class=\"n\">request</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span>\n            <span class=\"s2\">&quot;https://api.github.com/app/installations/</span><span class=\"si\">{}</span><span class=\"s2\">/access_tokens&quot;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">installation_id</span><span class=\"p\">),</span>\n            <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n        <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">raise_for_status</span><span class=\"p\">()</span>\n        <span class=\"n\">auth</span> <span class=\"o\">=</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">installation_tokens</span><span class=\"p\">[</span><span class=\"n\">installation_id</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s2\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"n\">auth</span><span class=\"p\">[</span><span class=\"s2\">&quot;token&quot;</span><span class=\"p\">],</span>\n            <span class=\"s2\">&quot;expires&quot;</span><span class=\"p\">:</span> <span class=\"n\">to_seconds</span><span class=\"p\">(</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">strptime</span><span class=\"p\">(</span><span class=\"n\">auth</span><span class=\"p\">[</span><span class=\"s2\">&quot;expires_at&quot;</span><span class=\"p\">],</span> <span class=\"s2\">&quot;%Y-%m-</span><span class=\"si\">%d</span><span class=\"s2\">T%H:%M:%SZ&quot;</span><span class=\"p\">)),</span>\n        <span class=\"p\">}</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__check_installation_tokens</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">installation_id</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">installation_id</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">installation_tokens</span><span class=\"p\">)</span> <span class=\"ow\">or</span> <span class=\"p\">(</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">installation_tokens</span><span class=\"p\">[</span><span class=\"n\">installation_id</span><span class=\"p\">][</span><span class=\"s2\">&quot;expires&quot;</span><span class=\"p\">]</span> <span class=\"o\">&lt;</span> <span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"mi\">60</span><span class=\"p\">)</span>\n        <span class=\"p\">):</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__set_installation_token</span><span class=\"p\">(</span><span class=\"n\">installation_id</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">execute</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">variables</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">installation_id</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">headers</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"k\">if</span> <span class=\"n\">installation_id</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">installation_id</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">default_installation_id</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__check_installation_tokens</span><span class=\"p\">(</span><span class=\"n\">installation_id</span><span class=\"p\">)</span>\n        <span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s2\">&quot;Authorization&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;token </span><span class=\"si\">{}</span><span class=\"s2\">&quot;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">installation_tokens</span><span class=\"p\">[</span><span class=\"n\">installation_id</span><span class=\"p\">][</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">]</span>\n        <span class=\"p\">)</span>\n        <span class=\"n\">request</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span>\n            <span class=\"s2\">&quot;https://api.github.com/graphql&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">json</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;query&quot;</span><span class=\"p\">:</span> <span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"s2\">&quot;variables&quot;</span><span class=\"p\">:</span> <span class=\"n\">variables</span><span class=\"p\">},</span>\n            <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n        <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">raise_for_status</span><span class=\"p\">()</span>\n        <span class=\"k\">return</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">create_issue</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">repo_name</span><span class=\"p\">,</span> <span class=\"n\">repo_owner</span><span class=\"p\">,</span> <span class=\"n\">title</span><span class=\"p\">,</span> <span class=\"n\">body</span><span class=\"p\">,</span> <span class=\"n\">installation_id</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">installation_id</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">installation_id</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">default_installation_id</span>\n        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span>\n            <span class=\"n\">query</span><span class=\"o\">=</span><span class=\"s2\">&quot;&quot;&quot;</span>\n<span class=\"s2\">            query get_repo_id($repo_name: String!, $repo_owner: String!) {</span>\n<span class=\"s2\">                repository(name: $repo_name, owner: $repo_owner) {</span>\n<span class=\"s2\">                    id</span>\n<span class=\"s2\">                }</span>\n<span class=\"s2\">            }</span>\n<span class=\"s2\">            &quot;&quot;&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">variables</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;repo_name&quot;</span><span class=\"p\">:</span> <span class=\"n\">repo_name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;repo_owner&quot;</span><span class=\"p\">:</span> <span class=\"n\">repo_owner</span><span class=\"p\">},</span>\n            <span class=\"n\">installation_id</span><span class=\"o\">=</span><span class=\"n\">installation_id</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span>\n            <span class=\"n\">query</span><span class=\"o\">=</span><span class=\"s2\">&quot;&quot;&quot;</span>\n<span class=\"s2\">                mutation CreateIssue($id: ID!, $title: String!, $body: String!) {</span>\n<span class=\"s2\">                createIssue(input: {</span>\n<span class=\"s2\">                    repositoryId: $id,</span>\n<span class=\"s2\">                    title: $title,</span>\n<span class=\"s2\">                    body: $body</span>\n<span class=\"s2\">                }) {</span>\n<span class=\"s2\">                    clientMutationId,</span>\n<span class=\"s2\">                    issue {</span>\n<span class=\"s2\">                        body</span>\n<span class=\"s2\">                        title</span>\n<span class=\"s2\">                        url</span>\n<span class=\"s2\">                    }</span>\n<span class=\"s2\">                }</span>\n<span class=\"s2\">                }</span>\n<span class=\"s2\">            &quot;&quot;&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">variables</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;id&quot;</span><span class=\"p\">:</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"s2\">&quot;data&quot;</span><span class=\"p\">][</span><span class=\"s2\">&quot;repository&quot;</span><span class=\"p\">][</span><span class=\"s2\">&quot;id&quot;</span><span class=\"p\">],</span> <span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"n\">title</span><span class=\"p\">,</span> <span class=\"s2\">&quot;body&quot;</span><span class=\"p\">:</span> <span class=\"n\">body</span><span class=\"p\">,},</span>\n            <span class=\"n\">installation_id</span><span class=\"o\">=</span><span class=\"n\">installation_id</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"github_resource\"><a class=\"viewcode-back\" href=\"../../../sections/api/apidocs/libraries/dagster_github/#dagster_github.github_resource\">[docs]</a><span class=\"nd\">@resource</span><span class=\"p\">(</span>\n    <span class=\"n\">config_schema</span><span class=\"o\">=</span><span class=\"p\">{</span>\n        <span class=\"s2\">&quot;github_app_id&quot;</span><span class=\"p\">:</span> <span class=\"n\">Field</span><span class=\"p\">(</span>\n            <span class=\"n\">IntSource</span><span class=\"p\">,</span>\n            <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;Github Application ID, for more info see https://developer.github.com/apps/&quot;</span><span class=\"p\">,</span>\n        <span class=\"p\">),</span>\n        <span class=\"s2\">&quot;github_app_private_rsa_key&quot;</span><span class=\"p\">:</span> <span class=\"n\">Field</span><span class=\"p\">(</span>\n            <span class=\"n\">StringSource</span><span class=\"p\">,</span>\n            <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;Github Application Private RSA key text, for more info see https://developer.github.com/apps/&quot;</span><span class=\"p\">,</span>\n        <span class=\"p\">),</span>\n        <span class=\"s2\">&quot;github_installation_id&quot;</span><span class=\"p\">:</span> <span class=\"n\">Field</span><span class=\"p\">(</span>\n            <span class=\"n\">IntSource</span><span class=\"p\">,</span>\n            <span class=\"n\">is_required</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n            <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;Github Application Installation ID, for more info see https://developer.github.com/apps/&quot;</span><span class=\"p\">,</span>\n        <span class=\"p\">),</span>\n    <span class=\"p\">},</span>\n    <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;This resource is for connecting to Github&quot;</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">github_resource</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">GithubResource</span><span class=\"p\">(</span>\n        <span class=\"n\">client</span><span class=\"o\">=</span><span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">Session</span><span class=\"p\">(),</span>\n        <span class=\"n\">app_id</span><span class=\"o\">=</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">resource_config</span><span class=\"p\">[</span><span class=\"s2\">&quot;github_app_id&quot;</span><span class=\"p\">],</span>\n        <span class=\"n\">app_private_rsa_key</span><span class=\"o\">=</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">resource_config</span><span class=\"p\">[</span><span class=\"s2\">&quot;github_app_private_rsa_key&quot;</span><span class=\"p\">],</span>\n        <span class=\"n\">default_installation_id</span><span class=\"o\">=</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">resource_config</span><span class=\"p\">[</span><span class=\"s2\">&quot;github_installation_id&quot;</span><span class=\"p\">],</span>\n    <span class=\"p\">)</span></div>\n</pre></div>", "current_page_name": "_modules/dagster_github/resources", "sidebars": ["globaltoc.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}