{"parents": [], "prev": {"link": "../dagster_shell/", "title": "Shell (dagster_shell)"}, "next": {"link": "../dagster_snowflake/", "title": "Snowflake (dagster_snowflake)"}, "title": "Slack (dagster_slack)", "meta": null, "body": "<div class=\"section\" id=\"slack-dagster-slack\">\n<h1>Slack (dagster_slack)<a class=\"headerlink\" href=\"#slack-dagster-slack\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p><span class=\"raw-html-m2r\"><img src=\"https://user-images.githubusercontent.com/609349/57994610-c581f680-7a72-11e9-85cd-41fd649cc26d.png\" /></span></p>\n<div class=\"line-block\">\n<div class=\"line\"><br /></div>\n</div>\n<p>This library provides an integration with Slack, to support posting messages in your company\u2019s Slack workspace.</p>\n<div class=\"line-block\">\n<div class=\"line\"><br /></div>\n</div>\n<p>Presently, it provides a thin wrapper on the Slack client API <a class=\"reference external\" href=\"https://api.slack.com/methods/chat.postMessage\">chat.postMessage</a>.</p>\n<div class=\"line-block\">\n<div class=\"line\"><br /></div>\n</div>\n<p>To use this integration, you\u2019ll first need to create a Slack App for it.</p>\n<ol class=\"arabic\">\n<li><p><strong>Create App</strong>: Go to <a class=\"reference external\" href=\"https://api.slack.com/apps\">https://api.slack.com/apps</a> and click \u201cCreate New App\u201d:</p>\n<p><span class=\"raw-html-m2r\"><img width=200px src=\"https://user-images.githubusercontent.com/609349/57993925-d3824800-7a6f-11e9-8618-bdd1611f15a4.png\" /></span></p>\n</li>\n<li><p><strong>Install App</strong>: After creating an app, on the left-hand side of the app configuration, click \u201cBot Users\u201d, and then create a bot user. Then, click \u201cInstall App\u201d on the left hand side, and finally \u201cInstall App to Workspace\u201d.</p></li>\n<li><p><strong>Bot Token</strong>: Once finished, this will create a new bot token for your bot/workspace:</p>\n<p><span class=\"raw-html-m2r\"><img width=600px src=\"https://user-images.githubusercontent.com/609349/57994422-ed248f00-7a71-11e9-9cbc-f6869ed33315.png\" /></span></p>\n</li>\n</ol>\n<p>Copy this bot token and put it somewhere safe; see <a class=\"reference external\" href=\"https://api.slack.com/docs/oauth-safety\">Safely Storing Credentials</a> for more on this topic.</p>\n<dl class=\"data\">\n<dt id=\"dagster_slack.slack_resource\">\n<code class=\"sig-prename descclassname\">dagster_slack.</code><code class=\"sig-name descname\">slack_resource</code><em class=\"property\"> ResourceDefinition</em><a class=\"reference internal\" href=\"../../../../../_modules/dagster_slack/resources/#slack_resource\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster_slack.slack_resource\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>This resource is for connecting to Slack.</p>\n<p>By configuring this Slack resource, you can post messages to Slack from any Dagster solid:</p>\n<p>Examples:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">dagster</span> <span class=\"kn\">import</span> <span class=\"n\">solid</span><span class=\"p\">,</span> <span class=\"n\">execute_pipeline</span><span class=\"p\">,</span> <span class=\"n\">ModeDefinition</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster_slack</span> <span class=\"kn\">import</span> <span class=\"n\">slack_resource</span>\n\n\n<span class=\"nd\">@solid</span><span class=\"p\">(</span><span class=\"n\">required_resource_keys</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">&#39;slack&#39;</span><span class=\"p\">})</span>\n<span class=\"k\">def</span> <span class=\"nf\">slack_solid</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">):</span>\n    <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">resources</span><span class=\"o\">.</span><span class=\"n\">slack</span><span class=\"o\">.</span><span class=\"n\">chat_postMessage</span><span class=\"p\">(</span><span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"s1\">&#39;#noise&#39;</span><span class=\"p\">,</span> <span class=\"n\">text</span><span class=\"o\">=</span><span class=\"s1\">&#39;:wave: hey there!&#39;</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@pipeline</span><span class=\"p\">(</span>\n    <span class=\"n\">mode_defs</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">ModeDefinition</span><span class=\"p\">(</span><span class=\"n\">resource_defs</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">&#39;slack&#39;</span><span class=\"p\">:</span> <span class=\"n\">slack_resource</span><span class=\"p\">})],</span>\n<span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">slack_pipeline</span><span class=\"p\">():</span>\n    <span class=\"n\">slack_solid</span><span class=\"p\">()</span>\n\n<span class=\"n\">execute_pipeline</span><span class=\"p\">(</span>\n    <span class=\"n\">slack_pipeline</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">&#39;resources&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">&#39;slack&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">&#39;config&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">&#39;token&#39;</span><span class=\"p\">:</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s1\">&#39;SLACK_TOKEN&#39;</span><span class=\"p\">)}}}}</span>\n<span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["sections/api/apidocs/libraries/dagster_snowflake", "Snowflake (dagster_snowflake)", "N", "next"], ["sections/api/apidocs/libraries/dagster_shell", "Shell (dagster_shell)", "P", "previous"]], "sourcename": "sections/api/apidocs/libraries/dagster_slack.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Slack (dagster_slack)</a></li>\n</ul>\n", "display_toc": false, "page_source_suffix": ".rst", "current_page_name": "sections/api/apidocs/libraries/dagster_slack", "sidebars": ["globaltoc.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}