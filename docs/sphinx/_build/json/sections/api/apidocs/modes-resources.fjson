{"parents": [], "prev": {"link": "../loggers/", "title": "Loggers"}, "next": {"link": "../partitions/", "title": "Partitions"}, "title": "Modes &amp; Resources", "meta": null, "body": "<div class=\"section\" id=\"modes-resources\">\n<h1>Modes &amp; Resources<a class=\"headerlink\" href=\"#modes-resources\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"modes\">\n<h2>Modes<a class=\"headerlink\" href=\"#modes\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"class\">\n<dt id=\"dagster.ModeDefinition\">\n<em class=\"property\">class </em><code class=\"sig-prename descclassname\">dagster.</code><code class=\"sig-name descname\">ModeDefinition</code><a class=\"reference internal\" href=\"../../../../_modules/dagster/core/definitions/mode/#ModeDefinition\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster.ModeDefinition\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Define a mode in which a pipeline can operate.</p>\n<p>A mode provides pipelines with a set of resource implementations, loggers, system storages,\nand executors.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters</dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em>) \u2013 The name of the mode. Must be unique within the\n<a class=\"reference internal\" href=\"../pipeline/#dagster.PipelineDefinition\" title=\"dagster.PipelineDefinition\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PipelineDefinition</span></code></a> to which the mode is attached. (default: \u201cdefault\u201d).</p></li>\n<li><p><strong>resource_defs</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>, </em><a class=\"reference internal\" href=\"#dagster.ResourceDefinition\" title=\"dagster.ResourceDefinition\"><em>ResourceDefinition</em></a><em>]</em><em>]</em>) \u2013 A dictionary of string resource\nkeys to their implementations. Individual solids may require resources to be present by\nthese keys.</p></li>\n<li><p><strong>logger_defs</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>, </em><a class=\"reference internal\" href=\"../loggers/#dagster.LoggerDefinition\" title=\"dagster.LoggerDefinition\"><em>LoggerDefinition</em></a><em>]</em><em>]</em>) \u2013 A dictionary of string logger\nidentifiers to their implementations.</p></li>\n<li><p><strong>system_storage_defs</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><a class=\"reference internal\" href=\"../internals/#dagster.SystemStorageDefinition\" title=\"dagster.SystemStorageDefinition\"><em>SystemStorageDefinition</em></a><em>]</em><em>]</em>) \u2013 The set of system storage\noptions available when executing in this mode. By default, this will be the \u2018in_memory\u2019\nand \u2018filesystem\u2019 system storages.</p></li>\n<li><p><strong>executor_defs</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><a class=\"reference internal\" href=\"../internals/#dagster.ExecutorDefinition\" title=\"dagster.ExecutorDefinition\"><em>ExecutorDefinition</em></a><em>]</em><em>]</em>) \u2013 The set of executors available when\nexecuting in this mode. By default, this will be the \u2018in_process\u2019 and \u2018multiprocess\u2019\nexecutors (<a class=\"reference internal\" href=\"../execution/#dagster.default_executors\" title=\"dagster.default_executors\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">default_executors</span></code></a>).</p></li>\n<li><p><strong>description</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em>) \u2013 A human-readable description of the mode.</p></li>\n<li><p><strong>intermediate_storage_defs</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><a class=\"reference internal\" href=\"../internals/#dagster.IntermediateStorageDefinition\" title=\"dagster.IntermediateStorageDefinition\"><em>IntermediateStorageDefinition</em></a><em>]</em><em>]</em>) \u2013 The set of intermediate storage\noptions available when executing in this mode. By default, this will be the \u2018in_memory\u2019\nand \u2018filesystem\u2019 system storages.</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n</div>\n<hr class=\"docutils\" />\n<div class=\"section\" id=\"resources\">\n<h2>Resources<a class=\"headerlink\" href=\"#resources\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"function\">\n<dt id=\"dagster.resource\">\n<code class=\"sig-prename descclassname\">&#64;</code><code class=\"sig-prename descclassname\">dagster.</code><code class=\"sig-name descname\">resource</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">config_schema=None</em>, <em class=\"sig-param\">description=None</em>, <em class=\"sig-param\">version=None</em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../../_modules/dagster/core/definitions/resource/#resource\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster.resource\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Define a resource.</p>\n<p>The decorated function should accept an <a class=\"reference internal\" href=\"#dagster.InitResourceContext\" title=\"dagster.InitResourceContext\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InitResourceContext</span></code></a> and return an instance of\nthe resource. This function will become the <code class=\"docutils literal notranslate\"><span class=\"pre\">resource_fn</span></code> of an underlying\n<a class=\"reference internal\" href=\"#dagster.ResourceDefinition\" title=\"dagster.ResourceDefinition\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ResourceDefinition</span></code></a>.</p>\n<p>If the decorated function yields once rather than returning (in the manner of functions\ndecorable with <a class=\"reference external\" href=\"https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager\" title=\"(in Python v3.8)\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">&#64;contextlib.contextmanager</span></code></a>) then\nthe body of the function after the yield will be run after execution resolves, allowing users\nto write their own teardown/cleanup logic.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters</dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>config_schema</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"../config/#dagster.ConfigSchema\" title=\"dagster.ConfigSchema\"><em>ConfigSchema</em></a><em>]</em>) \u2013 The schema for the config. Configuration data available in\n<cite>init_context.resource_config</cite>.</p></li>\n<li><p><strong>description</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em>) \u2013 A human-readable description of the resource.</p></li>\n<li><p><strong>version</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em>) \u2013 (Experimental) The version of a resource function. Two wrapped\nresource functions should only have the same version if they produce the same resource\ndefinition when provided with the same inputs.</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"class\">\n<dt id=\"dagster.ResourceDefinition\">\n<em class=\"property\">class </em><code class=\"sig-prename descclassname\">dagster.</code><code class=\"sig-name descname\">ResourceDefinition</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">resource_fn=None</em>, <em class=\"sig-param\">config_schema=None</em>, <em class=\"sig-param\">description=None</em>, <em class=\"sig-param\">_configured_config_mapping_fn=None</em>, <em class=\"sig-param\">version=None</em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../../_modules/dagster/core/definitions/resource/#ResourceDefinition\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster.ResourceDefinition\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Core class for defining resources.</p>\n<p>Resources are scoped ways to make external resources (like database connections) available to\nsolids during pipeline execution and to clean up after execution resolves.</p>\n<p>If resource_fn yields once rather than returning (in the manner of functions decorable with\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager\" title=\"(in Python v3.8)\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">&#64;contextlib.contextmanager</span></code></a>) then the body of the\nfunction after the yield will be run after execution resolves, allowing users to write their\nown teardown/cleanup logic.</p>\n<p>Depending on your executor, resources may be instantiated and cleaned up more than once in a\npipeline execution.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters</dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>resource_fn</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference internal\" href=\"#dagster.InitResourceContext\" title=\"dagster.InitResourceContext\"><em>InitResourceContext</em></a><em>]</em><em>, </em><em>Any</em><em>]</em>) \u2013 User-provided function to instantiate\nthe resource, which will be made available to solid executions keyed on the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">context.resources</span></code> object.</p></li>\n<li><p><strong>config_schema</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"../config/#dagster.ConfigSchema\" title=\"dagster.ConfigSchema\"><em>ConfigSchema</em></a><em>]</em>) \u2013 The schema for the config. Configuration data\navailable in <cite>init_context.resource_config</cite>.</p></li>\n<li><p><strong>description</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em>) \u2013 A human-readable description of the resource.</p></li>\n<li><p><strong>_configured_config_mapping_fn</strong> \u2013 This argument is for internal use only. Users should not\nspecify this field. To preconfigure a resource, use the <a class=\"reference internal\" href=\"../config/#dagster.configured\" title=\"dagster.configured\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">configured()</span></code></a> API.</p></li>\n<li><p><strong>version</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em>) \u2013 (Experimental) The version of the resource\u2019s definition fn. Two\nwrapped resource functions should only have the same version if they produce the same\nresource definition when provided with the same inputs.</p></li>\n</ul>\n</dd>\n</dl>\n<dl class=\"method\">\n<dt id=\"dagster.ResourceDefinition.hardcoded_resource\">\n<em class=\"property\">static </em><code class=\"sig-name descname\">hardcoded_resource</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">value</em>, <em class=\"sig-param\">description=None</em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../../_modules/dagster/core/definitions/resource/#ResourceDefinition.hardcoded_resource\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster.ResourceDefinition.hardcoded_resource\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A helper function that creates a <code class=\"docutils literal notranslate\"><span class=\"pre\">ResourceDefinition</span></code> with a hardcoded object.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters</dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>value</strong> (<em>Any</em>) \u2013 A hardcoded object which helps mock the resource.</p></li>\n<li><p><strong>description</strong> (<em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em><em>]</em>) \u2013 The description of the resource. Defaults to None.</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Returns</dt>\n<dd class=\"field-even\"><p>A hardcoded resource.</p>\n</dd>\n<dt class=\"field-odd\">Return type</dt>\n<dd class=\"field-odd\"><p>[<a class=\"reference internal\" href=\"#dagster.ResourceDefinition\" title=\"dagster.ResourceDefinition\">ResourceDefinition</a>]</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dagster.ResourceDefinition.mock_resource\">\n<em class=\"property\">static </em><code class=\"sig-name descname\">mock_resource</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">description=None</em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../../_modules/dagster/core/definitions/resource/#ResourceDefinition.mock_resource\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster.ResourceDefinition.mock_resource\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A helper function that creates a <code class=\"docutils literal notranslate\"><span class=\"pre\">ResourceDefinition</span></code> which wraps a <code class=\"docutils literal notranslate\"><span class=\"pre\">mock.MagicMock</span></code>.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters</dt>\n<dd class=\"field-odd\"><p><strong>description</strong> (<em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em><em>]</em>) \u2013 The description of the resource. Defaults to None.</p>\n</dd>\n<dt class=\"field-even\">Returns</dt>\n<dd class=\"field-even\"><p><dl class=\"simple\">\n<dt>A resource that creates the magic methods automatically and helps</dt><dd><p>you mock existing resources.</p>\n</dd>\n</dl>\n</p>\n</dd>\n<dt class=\"field-odd\">Return type</dt>\n<dd class=\"field-odd\"><p>[<a class=\"reference internal\" href=\"#dagster.ResourceDefinition\" title=\"dagster.ResourceDefinition\">ResourceDefinition</a>]</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dagster.ResourceDefinition.none_resource\">\n<em class=\"property\">static </em><code class=\"sig-name descname\">none_resource</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">description=None</em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../../_modules/dagster/core/definitions/resource/#ResourceDefinition.none_resource\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster.ResourceDefinition.none_resource\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A helper function that returns a none resource.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters</dt>\n<dd class=\"field-odd\"><p><strong>description</strong> (<em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><em>str</em></a><em>]</em><em>]</em>) \u2013 The description of the resource. Defaults to None.</p>\n</dd>\n<dt class=\"field-even\">Returns</dt>\n<dd class=\"field-even\"><p>A resource that does nothing.</p>\n</dd>\n<dt class=\"field-odd\">Return type</dt>\n<dd class=\"field-odd\"><p>[<a class=\"reference internal\" href=\"#dagster.ResourceDefinition\" title=\"dagster.ResourceDefinition\">ResourceDefinition</a>]</p>\n</dd>\n</dl>\n</dd></dl>\n\n</dd></dl>\n\n<dl class=\"class\">\n<dt id=\"dagster.InitResourceContext\">\n<em class=\"property\">class </em><code class=\"sig-prename descclassname\">dagster.</code><code class=\"sig-name descname\">InitResourceContext</code><a class=\"reference internal\" href=\"../../../../_modules/dagster/core/execution/context/init/#InitResourceContext\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster.InitResourceContext\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Resource-specific initialization context.</p>\n<dl class=\"attribute\">\n<dt id=\"dagster.InitResourceContext.resource_config\">\n<code class=\"sig-name descname\">resource_config</code><a class=\"headerlink\" href=\"#dagster.InitResourceContext.resource_config\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The configuration data provided by the environment config. The schema\nfor this data is defined by the <code class=\"docutils literal notranslate\"><span class=\"pre\">config_field</span></code> argument to\n<a class=\"reference internal\" href=\"#dagster.ResourceDefinition\" title=\"dagster.ResourceDefinition\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ResourceDefinition</span></code></a>.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Type</dt>\n<dd class=\"field-odd\"><p>Any</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dagster.InitResourceContext.pipeline_def\">\n<code class=\"sig-name descname\">pipeline_def</code><a class=\"headerlink\" href=\"#dagster.InitResourceContext.pipeline_def\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The definition of the pipeline currently being executed.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Type</dt>\n<dd class=\"field-odd\"><p><a class=\"reference internal\" href=\"../pipeline/#dagster.PipelineDefinition\" title=\"dagster.PipelineDefinition\">PipelineDefinition</a></p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dagster.InitResourceContext.resource_def\">\n<code class=\"sig-name descname\">resource_def</code><a class=\"headerlink\" href=\"#dagster.InitResourceContext.resource_def\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The definition of the resource currently being\nconstructed.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Type</dt>\n<dd class=\"field-odd\"><p><a class=\"reference internal\" href=\"#dagster.ResourceDefinition\" title=\"dagster.ResourceDefinition\">ResourceDefinition</a></p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dagster.InitResourceContext.run_id\">\n<code class=\"sig-name descname\">run_id</code><a class=\"headerlink\" href=\"#dagster.InitResourceContext.run_id\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The id for this run of the pipeline.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Type</dt>\n<dd class=\"field-odd\"><p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\">str</a></p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dagster.InitResourceContext.log_manager\">\n<code class=\"sig-name descname\">log_manager</code><a class=\"headerlink\" href=\"#dagster.InitResourceContext.log_manager\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The log manager for this run of the pipeline</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Type</dt>\n<dd class=\"field-odd\"><p><a class=\"reference internal\" href=\"../internals/#dagster.DagsterLogManager\" title=\"dagster.DagsterLogManager\">DagsterLogManager</a></p>\n</dd>\n</dl>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["sections/api/apidocs/partitions", "Partitions", "N", "next"], ["sections/api/apidocs/loggers", "Loggers", "P", "previous"]], "sourcename": "sections/api/apidocs/modes-resources.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Modes &amp; Resources</a><ul>\n<li><a class=\"reference internal\" href=\"#modes\">Modes</a></li>\n<li><a class=\"reference internal\" href=\"#resources\">Resources</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "sections/api/apidocs/modes-resources", "sidebars": ["globaltoc.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}